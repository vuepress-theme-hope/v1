(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{479:function(e,t,o){e.exports=o.p+"assets/img/leancloud-app-1.40863cdb.jpg"},480:function(e,t,o){e.exports=o.p+"assets/img/leancloud-app-2.eb605e50.jpg"},481:function(e,t,o){e.exports=o.p+"assets/img/vercel-1.3ada188f.png"},482:function(e,t,o){e.exports=o.p+"assets/img/vercel-2.35cde26e.png"},483:function(e,t,o){e.exports=o.p+"assets/img/vercel-3.600bb9ee.png"},484:function(e,t,o){e.exports=o.p+"assets/img/vercel-4.3f804e6d.png"},485:function(e,t,o){e.exports=o.p+"assets/img/vercel-5.e46d16f7.png"},486:function(e,t,o){e.exports=o.p+"assets/img/vercel-6.6a902d66.png"},487:function(e,t,o){e.exports=o.p+"assets/img/vercel-7.34313f48.png"},530:function(e,t,o){e.exports=o.p+"assets/img/leancloud-1.ed55a501.jpeg"},531:function(e,t,o){e.exports=o.p+"assets/img/leancloud-2.d26cacd1.jpeg"},532:function(e,t,o){e.exports=o.p+"assets/img/leancloud-3.f30a9772.png"},533:function(e,t,o){e.exports=o.p+"assets/img/vercel-1.3ada188f.png"},534:function(e,t,o){e.exports=o.p+"assets/img/vercel-2.35cde26e.png"},535:function(e,t,o){e.exports=o.p+"assets/img/vercel-3.600bb9ee.png"},536:function(e,t,o){e.exports=o.p+"assets/img/vercel-4.3f804e6d.png"},537:function(e,t,o){e.exports=o.p+"assets/img/vercel-5.e46d16f7.png"},538:function(e,t,o){e.exports=o.p+"assets/img/vercel-6.6a902d66.png"},539:function(e,t,o){e.exports=o.p+"assets/img/vercel-7.34313f48.png"},569:function(e,t,o){"use strict";o.r(t);var a=o(1),r=Object(a.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("p",[e._v("Welcome to Waline. In just a few steps, you can enable Waline to provide comments and pageviews on your site.")]),e._v(" "),a("h2",{attrs:{id:"leancloud-settings-database"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#leancloud-settings-database"}},[e._v("#")]),e._v(" LeanCloud Settings (Database)")]),e._v(" "),a("ol",[a("li",[a("p",[a("a",{attrs:{href:"https://console.leancloud.app/login",target:"_blank",rel:"noopener noreferrer"}},[e._v("sign in"),a("OutboundLink")],1),e._v(" or "),a("a",{attrs:{href:"https://console.leancloud.app/register",target:"_blank",rel:"noopener noreferrer"}},[e._v("sign up"),a("OutboundLink")],1),e._v(" LeanCloud and enter "),a("a",{attrs:{href:"https://console.leancloud.app/apps",target:"_blank",rel:"noopener noreferrer"}},[e._v("Console"),a("OutboundLink")],1),e._v(".")])]),e._v(" "),a("li",[a("p",[e._v("Click "),a("a",{attrs:{href:"https://console.leancloud.app/apps",target:"_blank",rel:"noopener noreferrer"}},[e._v("Create app"),a("OutboundLink")],1),e._v(" button to create a new app and enter a name you like:")]),e._v(" "),a("p",[a("img",{attrs:{src:o(479),alt:"Create App"}})])]),e._v(" "),a("li",[a("p",[e._v("Enter the app, then select "),a("code",[e._v("Settings")]),e._v(" > "),a("code",[e._v("App Keys")]),e._v(" at the left bottom corner. You will see "),a("code",[e._v("APP ID")]),e._v(", "),a("code",[e._v("APP Key")]),e._v(" and "),a("code",[e._v("Master Key")]),e._v(" of your app. We will use them later")]),e._v(" "),a("p",[a("img",{attrs:{src:o(480),alt:"ID and Key"}})])])]),e._v(" "),a("h2",{attrs:{id:"deploy-to-vercel-server"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#deploy-to-vercel-server"}},[e._v("#")]),e._v(" Deploy to Vercel (Server)")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://vercel.com/import/project?template=https://github.com/walinejs/waline/tree/main/example",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://vercel.com/button",alt:"Vercel"}}),a("OutboundLink")],1)]),e._v(" "),a("ol",[a("li",[a("p",[e._v("Click the blue button above, it will redirect you to vercel to deploy with waline template.")])]),e._v(" "),a("li",[a("p",[e._v("If you haven’t logined, we recommend you to sign in with GitHub.")])]),e._v(" "),a("li",[a("p",[e._v("Input your Vercel project name then click "),a("code",[e._v("Create")]),e._v(".")]),e._v(" "),a("p",[a("img",{attrs:{src:o(481),alt:"Create Project"}})])]),e._v(" "),a("li",[a("p",[e._v("Then Vercel will let you create Vercel Team account, click "),a("code",[e._v("Skip")]),e._v(" and go on.")]),e._v(" "),a("p",[a("img",{attrs:{src:o(482),alt:"skip team"}})])]),e._v(" "),a("li",[a("p",[e._v("Repo which named you input before will be created and initiallized automatically base on waline example template by Vercel.")]),e._v(" "),a("p",[a("img",{attrs:{src:o(483),alt:"deploy"}})]),e._v(" "),a("p",[e._v("After one minute or two, vercel should finish the deployment. Click "),a("code",[e._v("Go to Dashboard")]),e._v(" button to redirect to your application dashboard.")]),e._v(" "),a("p",[a("img",{attrs:{src:o(484),alt:"deploy"}})])]),e._v(" "),a("li",[a("p",[e._v("Click "),a("code",[e._v("Settings")]),e._v(" menu on the top, and "),a("code",[e._v("Environment Variables")]),e._v(" button on the side to go to envrionment variables setting page. Then set "),a("code",[e._v("LEAN_ID")]),e._v(", "),a("code",[e._v("LEAN_KEY")]),e._v(" and "),a("code",[e._v("LEAN_MASTER_KEY")]),e._v(". The variables’ value should be the ones you got in the previous step. "),a("code",[e._v("APP ID")]),e._v(" is the value of "),a("code",[e._v("LEAN_ID")]),e._v(", and "),a("code",[e._v("APP Key")]),e._v(" to "),a("code",[e._v("LEAN_KEY")]),e._v(", "),a("code",[e._v("Master Key")]),e._v(" to "),a("code",[e._v("LEAN_MASTER_KEY")]),e._v(".")]),e._v(" "),a("p",[a("img",{attrs:{src:o(485),alt:"set environment variables"}})])]),e._v(" "),a("li",[a("p",[e._v("To let your environment variables setting active, you need redeploy your application. Click "),a("code",[e._v("Deployments")]),e._v(" menu on the top and find the latest deployment at the top of list, click "),a("code",[e._v("Redeploy")]),e._v(" button in the right dropdown menu.")]),e._v(" "),a("p",[a("img",{attrs:{src:o(486),alt:"redeploy"}})])]),e._v(" "),a("li",[a("p",[e._v("If everything is ok, vercel will redirect to "),a("code",[e._v("Overview")]),e._v(" page to start redeployment. Wait a moment the "),a("code",[e._v("STATUS")]),e._v(" will change to "),a("code",[e._v("Ready")]),e._v(". Now you can click "),a("code",[e._v("Visit")]),e._v(" to visit the site. This link is your server address.")]),e._v(" "),a("p",[a("img",{attrs:{src:o(487),alt:"redeploy success"}})])])]),e._v(" "),a("h2",{attrs:{id:"client"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#client"}},[e._v("#")]),e._v(" Client")]),e._v(" "),a("h3",{attrs:{id:"using-plugin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#using-plugin"}},[e._v("#")]),e._v(" Using plugin")]),e._v(" "),a("p",[e._v("Set "),a("code",[e._v('type: "waline"')]),e._v(" in the plugin options, and set "),a("code",[e._v("serverURL")]),e._v(" as the link obtained in the previous step.")]),e._v(" "),a("p",[e._v("Then, place the "),a("code",[e._v("<CommentService>")]),e._v(" component at a suitable location in your site (usually at the bottom of the page), you will be able to see the comment box.")]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("Tips")]),e._v(" "),a("p",[e._v("You can also pass in other options supported by Waline (except "),a("code",[e._v("el")]),e._v(").")]),e._v(" "),a("p",[e._v("For details, see "),a("RouterLink",{attrs:{to:"/config/waline.html"}},[e._v("Waline Config")])],1)]),e._v(" "),a("h2",{attrs:{id:"comment-management"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#comment-management"}},[e._v("#")]),e._v(" Comment Management")]),e._v(" "),a("ol",[a("li",[e._v("After the deployment is complete, please visit "),a("code",[e._v("<serverURL>/ui/register")]),e._v(" to register. The first person to register will be set as an administrator.")]),e._v(" "),a("li",[e._v("After you log in as administrator, you can see the comment management interface. You can edit, mark or delete comments here.")]),e._v(" "),a("li",[e._v("Users can also register their account in the comment box, and they will be redirected to their profile page after logging in.")])])])}),[],!1,null,null,null);t.default=r.exports},587:function(e,t,o){"use strict";o.r(t);var a=o(1),r=Object(a.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("p",[e._v("欢迎使用 Waline，只需几个步骤，你就可以在你的网站中启用 Waline 提供评论与浏览量服务。")]),e._v(" "),a("h2",{attrs:{id:"leancloud-设置-数据库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#leancloud-设置-数据库"}},[e._v("#")]),e._v(" LeanCloud 设置 (数据库)")]),e._v(" "),a("ol",[a("li",[a("p",[a("a",{attrs:{href:"https://console.leancloud.app/login",target:"_blank",rel:"noopener noreferrer"}},[e._v("登录"),a("OutboundLink")],1),e._v(" 或 "),a("a",{attrs:{href:"https://console.leancloud.app/register",target:"_blank",rel:"noopener noreferrer"}},[e._v("注册"),a("OutboundLink")],1),e._v(" "),a("code",[e._v("LeanCloud 国际版")]),e._v(" 并进入 "),a("a",{attrs:{href:"https://console.leancloud.app/apps",target:"_blank",rel:"noopener noreferrer"}},[e._v("控制台"),a("OutboundLink")],1)])]),e._v(" "),a("li",[a("p",[e._v("点击左下角 "),a("a",{attrs:{href:"https://console.leancloud.app/apps",target:"_blank",rel:"noopener noreferrer"}},[e._v("创建应用"),a("OutboundLink")],1),e._v(" 并起一个你喜欢的名字 (请选择免费的开发版):")]),e._v(" "),a("p",[a("img",{attrs:{src:o(530),alt:"创建应用"}})])]),e._v(" "),a("li",[a("p",[e._v("进入应用，选择左下角的 "),a("code",[e._v("设置")]),e._v(" > "),a("code",[e._v("应用 Key")]),e._v("。你可以看到你的 "),a("code",[e._v("APP ID")]),e._v(","),a("code",[e._v("APP Key")]),e._v(" 和 "),a("code",[e._v("Master Key")]),e._v("。后续我们会用到这三个值。")]),e._v(" "),a("p",[a("img",{attrs:{src:o(531),alt:"ID 和 Key"}})])])]),e._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[e._v("注意")]),e._v(" "),a("p",[e._v("如果你正在使用 Leancloud 国内版 ("),a("a",{attrs:{href:"https://leancloud.cn",target:"_blank",rel:"noopener noreferrer"}},[e._v("leancloud.cn"),a("OutboundLink")],1),e._v(")，我们推荐你切换到国际版 ("),a("a",{attrs:{href:"https://leancloud.app",target:"_blank",rel:"noopener noreferrer"}},[e._v("leancloud.app"),a("OutboundLink")],1),e._v(")。否则，你需要为应用额外绑定"),a("strong",[e._v("已备案")]),e._v("的域名:")]),e._v(" "),a("ul",[a("li",[e._v("登录国内版并进入需要使用的应用")]),e._v(" "),a("li",[e._v("选择 "),a("code",[e._v("设置")]),e._v(" > "),a("code",[e._v("域名绑定")]),e._v(" > "),a("code",[e._v("API 访问域名")]),e._v(" > "),a("code",[e._v("绑定新域名")]),e._v(" > 输入域名 > "),a("code",[e._v("确定")]),e._v("。")]),e._v(" "),a("li",[e._v("按照页面上的提示按要求在 DNS 上完成 CNAME 解析。")])]),e._v(" "),a("p",[a("img",{attrs:{src:o(532),alt:"域名设置"}})])]),e._v(" "),a("h2",{attrs:{id:"vercel-部署-服务端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vercel-部署-服务端"}},[e._v("#")]),e._v(" Vercel 部署 (服务端)")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://vercel.com/import/project?template=https://github.com/walinejs/waline/tree/main/example",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://vercel.com/button",alt:"Vercel"}}),a("OutboundLink")],1)]),e._v(" "),a("ol",[a("li",[a("p",[e._v("点击上方按钮，跳转至 Vercel 进行 Server 端部署。")])]),e._v(" "),a("li",[a("p",[e._v("如果你未登录的话，Vercel 会让你注册或登录，请使用 GitHub 账户进行快捷登录。")])]),e._v(" "),a("li",[a("p",[e._v("输入一个你喜欢的 Vercel 项目名称并点击 "),a("code",[e._v("Create")]),e._v(" 继续:")]),e._v(" "),a("p",[a("img",{attrs:{src:o(533),alt:"创建项目"}})])]),e._v(" "),a("li",[a("p",[e._v("此时会让你创建 Team 账号，这里选择 "),a("code",[e._v("Skip")]),e._v(" 即可：")]),e._v(" "),a("p",[a("img",{attrs:{src:o(534),alt:"skip team"}})])]),e._v(" "),a("li",[a("p",[e._v("此时 Vercel 会基于 Waline 模板帮助你新建并初始化仓库，仓库名为你之前输入的项目名。")]),e._v(" "),a("p",[a("img",{attrs:{src:o(535),alt:"deploy"}})]),e._v(" "),a("p",[e._v("一两分钟后，满屏的烟花会庆祝你部署成功。此时点击 "),a("code",[e._v("Go to Dashboard")]),e._v(" 可以跳转到应用的控制台。")]),e._v(" "),a("p",[a("img",{attrs:{src:o(536),alt:"deploy"}})])]),e._v(" "),a("li",[a("p",[e._v("点击顶部的 "),a("code",[e._v("Settings")]),e._v(" - "),a("code",[e._v("Environment Variables")]),e._v(" 进入环境变量配置页，并配置三个环境变量"),a("code",[e._v("LEAN_ID")]),e._v(", "),a("code",[e._v("LEAN_KEY")]),e._v(" 和 "),a("code",[e._v("LEAN_MASTER_KEY")]),e._v(" 。它们的值分别对应上一步在 LeanCloud 中获得的 "),a("code",[e._v("APP ID")]),e._v(", "),a("code",[e._v("APP KEY")]),e._v(", "),a("code",[e._v("Master Key")]),e._v("。")]),e._v(" "),a("p",[a("img",{attrs:{src:o(537),alt:"设置环境变量"}})]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("提示")]),e._v(" "),a("p",[e._v("如果你使用 LeanCloud 国内版，请额外配置 "),a("code",[e._v("LEAN_SERVER")]),e._v(" 环境变量，值为你绑定好的域名。")])])]),e._v(" "),a("li",[a("p",[e._v("环境变量配置完成之后点击顶部的 "),a("code",[e._v("Deployments")]),e._v(" 点击顶部最新的一次部署右侧的 "),a("code",[e._v("Redeploy")]),e._v(" 按钮进行重新部署。该步骤是为了让刚才设置的环境变量生效。")]),e._v(" "),a("p",[a("img",{attrs:{src:o(538),alt:"redeploy"}})])]),e._v(" "),a("li",[a("p",[e._v("此时会跳转到 "),a("code",[e._v("Overview")]),e._v(" 界面开始部署，等待片刻后 "),a("code",[e._v("STATUS")]),e._v(" 会变成 "),a("code",[e._v("Ready")]),e._v("。此时请点击 "),a("code",[e._v("Visit")]),e._v(" ，即可跳转到部署好的网站地址，此地址即为你的服务端地址。")]),e._v(" "),a("p",[a("img",{attrs:{src:o(539),alt:"redeploy success"}})])])]),e._v(" "),a("h2",{attrs:{id:"客户端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#客户端"}},[e._v("#")]),e._v(" 客户端")]),e._v(" "),a("h3",{attrs:{id:"使用插件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用插件"}},[e._v("#")]),e._v(" 使用插件")]),e._v(" "),a("p",[e._v("在插件选项中设置 "),a("code",[e._v('type: "waline"')]),e._v("，同时设置服务端地址 "),a("code",[e._v("serverURL")]),e._v(" 为上一步获取到的值。")]),e._v(" "),a("p",[e._v("此时，将 "),a("code",[e._v("<CommentService>")]),e._v(" 组件放置在你网站中合适的位置 (通常是页面的底部)，即可使用 Waline 评论功能。")]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("提示")]),e._v(" "),a("p",[e._v("你也可以传入其他 Waline 支持的选项 (除了 "),a("code",[e._v("el")]),e._v(")。")]),e._v(" "),a("p",[e._v("详情请见 "),a("RouterLink",{attrs:{to:"/zh/config/waline.html"}},[e._v("Waline 配置")])],1)]),e._v(" "),a("h2",{attrs:{id:"评论管理-管理端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#评论管理-管理端"}},[e._v("#")]),e._v(" 评论管理 (管理端)")]),e._v(" "),a("ol",[a("li",[e._v("部署完成后，请访问 "),a("code",[e._v("<serverURL>/ui/register")]),e._v(" 进行注册。首个注册的人会被设定成管理员。")]),e._v(" "),a("li",[e._v("管理员登陆后，即可看到评论管理界面。在这里可以修改、标记或删除评论。")]),e._v(" "),a("li",[e._v("用户也通过评论框注册账号，登陆后会跳转到自己的档案页。")])])])}),[],!1,null,null,null);t.default=r.exports}}]);