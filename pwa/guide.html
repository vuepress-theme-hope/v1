<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Guide | PWA Support</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/v1/pwa/favicon.ico">
    <link rel="icon" href="/v1/pwa/assets/icon/chrome-mask-512.png" type="image/png" sizes="512x512">
    <link rel="icon" href="/v1/pwa/assets/icon/chrome-mask-192.png" type="image/png" sizes="192x192">
    <link rel="icon" href="/v1/pwa/assets/icon/chrome-512.png" type="image/png" sizes="512x512">
    <link rel="icon" href="/v1/pwa/assets/icon/chrome-192.png" type="image/png" sizes="192x192">
    <link rel="manifest" href="/v1/pwa/manifest.webmanifest" crossorigin="use-credentials">
    <link rel="apple-touch-icon" href="/v1/pwa/assets/icon/apple-icon-152.png">
    <meta name="description" content="A powerful PWA plugin for vuepress">
    <meta property="og:url" content="https://vuepress-theme-hope.github.io/v1/pwa/guide.html">
    <meta property="og:site_name" content="PWA Support">
    <meta property="og:title" content="Guide">
    <meta property="og:type" content="article">
    <meta property="og:locale" content="en-US">
    <meta property="og:locale:alternate" content="zh-CN">
    <meta property="article:author" content="Mr.Hope">
    <meta name="theme-color" content="#46bd87">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/v1/pwa/assets/icon/ms-icon-144.png">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <link rel="preload" href="/v1/pwa/assets/css/0.styles.bcb17b4e.css" as="style"><link rel="preload" href="/v1/pwa/assets/js/app.606b6282.js" as="script"><link rel="preload" href="/v1/pwa/assets/js/layout-Layout.991c339f.js" as="script"><link rel="preload" href="/v1/pwa/assets/js/layout-Blog~layout-Layout~layout-NotFound.3e960eae.js" as="script"><link rel="preload" href="/v1/pwa/assets/js/page-Guide.9beaf257.js" as="script"><link rel="preload" href="/v1/pwa/assets/js/17.82b3e559.js" as="script">
    <link rel="stylesheet" href="/v1/pwa/assets/css/0.styles.bcb17b4e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container has-navbar has-toc"><header class="navbar"><div class="navbar-left"><button title="Toggle Sidebar" class="toggle-sidebar-button"><span class="icon"></span></button>  <a href="/v1/pwa/" class="brand router-link-active"><!----> <!----> <span class="site-name">PWA Support</span></a> </div> <div class="navbar-center"> <nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/v1/pwa/" aria-label="Home" class="router-link-active nav-link"><span class="icon iconfont icon-home"></span>Home</a></div><div class="nav-item hide-in-mobile"><a href="/v1/pwa/guide.html" aria-current="page" aria-label="Guide" class="router-link-exact-active router-link-active nav-link active"><span class="icon iconfont icon-creative"></span>Guide</a></div><div class="nav-item hide-in-mobile"><a href="/v1/pwa/config.html" aria-label="Config" class="nav-link"><span class="icon iconfont icon-config"></span>Config</a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" aria-label="1.31.0-beta.2" class="dropdown-title"><span class="title"><span class="icon iconfont icon-note"></span>
        1.31.0-beta.2
      </span> <span class="arrow"></span> <ul class="nav-dropdown"><li class="dropdown-item"><a href="https://vuepress-theme-hope.github.io/v2/pwa/" rel="noopener noreferrer" target="_blank" aria-label="V2 Docs" class="nav-link"><!---->V2 Docs<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">Open in new window</span></span></a></li></ul></button></div></div></nav> </div> <div class="navbar-right"> <div class="nav-item"><div class="dropdown-wrapper i18n-dropdown"><button type="button" aria-label="Select language" class="dropdown-title"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" aria-label="Select language" class="icon i18n-icon" style="width:1rem;height:1rem;vertical-align:middle;"><path d="M379.392 460.8 494.08 575.488l-42.496 102.4L307.2 532.48 138.24 701.44l-71.68-72.704L234.496 460.8l-45.056-45.056c-27.136-27.136-51.2-66.56-66.56-108.544h112.64c7.68 14.336 16.896 27.136 26.112 35.84l45.568 46.08 45.056-45.056C382.976 312.32 409.6 247.808 409.6 204.8H0V102.4h256V0h102.4v102.4h256v102.4H512c0 70.144-37.888 161.28-87.04 210.944L378.88 460.8zM576 870.4 512 1024H409.6l256-614.4H768l256 614.4H921.6l-64-153.6H576zM618.496 768h196.608L716.8 532.48 618.496 768z" fill="currentColor"></path></svg> <span class="arrow"></span> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/v1/pwa/guide.html" aria-current="page" aria-label="English" class="router-link-exact-active router-link-active nav-link active"><!---->English</a></li><li class="dropdown-item"><a href="/v1/pwa/zh/guide.html" aria-label="简体中文" class="nav-link"><!---->简体中文</a></li></ul></button></div></div><!----><!----><div id="docsearch"></div>  <button aria-label="Toggle Navbar" aria-controls="nav-screen" class="toggle-navbar-button"><span class="button-container"><span class="button-top"></span> <span class="button-middle"></span> <span class="button-bottom"></span></span></button></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!----> <!----> <div class="content__sidebar-top"></div> <!----> <!----> <div class="content__sidebar-bottom"></div> <!----></aside> <main class="page"><nav class="breadcrumb disable"><!----></nav> <!----> <div class="content__page-top"></div> <div vocab="https://schema.org/" typeof="Article" class="page-title"><h1><i class="iconfont iconfont icon-creative"></i> <span property="headline">Guide</span></h1> <div class="page-info"><!----> <span aria-label="Author" data-balloon-pos="down" categoryPath="/category/$category/" tagPath="/tag/$tag/"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon author-icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z" fill="currentColor"></path></svg> <span property="author">Mr.Hope</span></span><span aria-label="Page views" data-balloon-pos="down" defaultAuthor="Mr.Hope" categoryPath="/category/$category/" tagPath="/tag/$tag/" class="pageview-info"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon eye-icon"><path d="M992 512.096c0-5.76-.992-10.592-1.28-11.136-.192-2.88-1.152-8.064-2.08-10.816-.256-.672-.544-1.376-.832-2.08-.48-1.568-1.024-3.104-1.6-4.32C897.664 290.112 707.104 160 512 160c-195.072 0-385.632 130.016-473.76 322.592-1.056 2.112-1.792 4.096-2.272 5.856a55.512 55.512 0 0 0-.64 1.6c-1.76 5.088-1.792 8.64-1.632 7.744-.832 3.744-1.568 11.168-1.568 11.168-.224 2.272-.224 4.032.032 6.304 0 0 .736 6.464 1.088 7.808.128 1.824.576 4.512 1.12 6.976h-.032c.448 2.08 1.12 4.096 1.984 6.08.48 1.536.992 2.976 1.472 4.032C126.432 733.856 316.992 864 512 864c195.136 0 385.696-130.048 473.216-321.696 1.376-2.496 2.24-4.832 2.848-6.912.256-.608.48-1.184.672-1.728 1.536-4.48 1.856-8.32 1.728-8.32l-.032.032c.608-3.104 1.568-7.744 1.568-13.28zM512 672c-88.224 0-160-71.776-160-160s71.776-160 160-160 160 71.776 160 160-71.776 160-160 160z" fill="currentColor"></path></svg> <span id="/v1/pwa/guide.html" data-flag-title="Guide" class="leancloud_visitors waline-visitor-count"><span data-path="/v1/pwa/guide.html" class="waline-pageview-count leancloud-visitors-count">...</span></span></span><span aria-label="Writing Date" data-balloon-pos="down" defaultAuthor="Mr.Hope" categoryPath="/category/$category/" tagPath="/tag/$tag/" class="date-info"><svg viewBox="0 0 1030 1024" xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 0 1-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 0 1-33.473-33.473V143.657H180.6A134.314 134.314 0 0 0 46.66 277.595v535.756A134.314 134.314 0 0 0 180.6 947.289h669.74a134.36 134.36 0 0 0 133.94-133.938V277.595a134.314 134.314 0 0 0-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 0 1-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 0 1-33.472 33.473z" fill="currentColor"></path></svg> <span property="datePublished">2020-10-22</span></span><!----><!----><span aria-label="Reading Time" data-balloon-pos="down" defaultAuthor="Mr.Hope" categoryPath="/category/$category/" tagPath="/tag/$tag/" class="reading-time-info"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon timer-icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z" fill="currentColor"></path></svg> <span>About 6 min</span> <meta property="timeRequired" content="PT6M"></span></div> <!----> <hr></div> <div class="toc-place-holder"><aside id="toc"><div class="toc-header">On This Page</div><div class="toc-wrapper"><ul class="toc-list"><li class="toc-item"><a href="/v1/pwa/guide.html#intro" class="toc-link level2">Intro</a></li><li class="toc-item"><a href="/v1/pwa/guide.html#cache-control" class="toc-link level2">Cache Control</a></li><ul class="toc-list"><li class="toc-item"><a href="/v1/pwa/guide.html#default-cache" class="toc-link level3">Default cache</a></li><li class="toc-item"><a href="/v1/pwa/guide.html#image-cache" class="toc-link level3">Image Cache</a></li><li class="toc-item"><a href="/v1/pwa/guide.html#html-cache" class="toc-link level3">HTML Cache</a></li><li class="toc-item"><a href="/v1/pwa/guide.html#size-control" class="toc-link level3">Size Control</a></li></ul><li class="toc-item"><a href="/v1/pwa/guide.html#update-control" class="toc-link level2">Update Control</a></li><ul class="toc-list"><li class="toc-item"><a href="/v1/pwa/guide.html#update-prompt-popup" class="toc-link level3">Update Prompt Popup</a></li><li class="toc-item"><a href="/v1/pwa/guide.html#update-ready-popup" class="toc-link level3">Update Ready Popup</a></li></ul><li class="toc-item"><a href="/v1/pwa/guide.html#manifest-generation" class="toc-link level2">Manifest Generation</a></li><ul class="toc-list"><li class="toc-item"><a href="/v1/pwa/guide.html#automatic-generation" class="toc-link level3">Automatic Generation</a></li><li class="toc-item"><a href="/v1/pwa/guide.html#manual-config" class="toc-link level3">Manual Config</a></li></ul><li class="toc-item"><a href="/v1/pwa/guide.html#other-options" class="toc-link level2">Other Options</a></li><li class="toc-item"><a href="/v1/pwa/guide.html#further-reading" class="toc-link level2">Further Reading</a></li></ul></div></aside></div> <!----> <div class="content__content-top"></div> <div class="theme-default-content content__default"><p>The plugin brings enhanced PWA support to VuePress <sup class="footnote-ref"><a href="#footnote1">[1]</a><a id="footnote-ref1" class="footnote-anchor"></a></sup>.</p> <h2 id="intro"><a href="#intro" class="header-anchor">#</a> Intro</h2> <p>Service Worker <sup class="footnote-ref"><a href="#footnote2">[2]</a><a id="footnote-ref2" class="footnote-anchor"></a></sup> (SW for short) is mainly used to cache and proxy site content.</p> <p>This plugin will automatically register Service Worker through <code>workbox-build</code>. To better control what the Service Worker can pre-cache, the plugin provides the following configurations.</p> <div class="custom-block tip"><p class="custom-block-title">Tips</p> <p>If you are an advanced user, you can also set <code>generateSwConfig</code> directly to pass options to <code>workbox-build</code>.</p></div> <h2 id="cache-control"><a href="#cache-control" class="header-anchor">#</a> Cache Control</h2> <p>Based on the requirement of installable <sup class="footnote-ref"><a href="#footnote3">[3]</a><a id="footnote-ref3" class="footnote-anchor"></a></sup>, the plugin provides related options for cache control.</p> <h3 id="default-cache"><a href="#default-cache" class="header-anchor">#</a> Default cache</h3> <p>By default, the plugin will pre-cache all the <code>js</code> <code>css</code> and <code>svg</code>.And only homepage and 404 <code>html</code> are cached.</p> <p>At the same time, the plugin will cache font files: <code>**/*.{woff,woff2,eot,ttf,otf}</code>.</p> <h3 id="image-cache"><a href="#image-cache" class="header-anchor">#</a> Image Cache</h3> <p>You can cache site pictures by setting the <code>cachePic</code> option to <code>true</code>.</p> <p>If your site is not large and the pictures are mostly critical descriptions, and hope to be displayed in offline mode, please set this option to <code>true</code>.</p> <div class="custom-block info"><p class="custom-block-title">Image recognition</p> <p>We recognize images by file extension. Any files ending with <code>.png</code>, <code>.jpg</code>, <code>.jpeg</code>, <code>.gif</code>, <code>.bmp</code>, <code>.webp</code> will be regarded as images.</p></div> <h3 id="html-cache"><a href="#html-cache" class="header-anchor">#</a> HTML Cache</h3> <p>If you have small sites, and would like to make docusment fully offline available, you can set <code>cacheHTML</code> to <code>true</code> to cache all HTML files.</p> <div class="custom-block tip"><p class="custom-block-title">Why only home and 404 page been cached by default?</p> <p>Though VuePress generates HTML files through SSR<sup class="footnote-ref"><a href="#footnote4">[4]</a><a id="footnote-ref4" class="footnote-anchor"></a></sup> for all pages, these files are mainly used for SEO<sup class="footnote-ref"><a href="#footnote5">[5]</a><a id="footnote-ref5" class="footnote-anchor"></a></sup> and allow you to directly configure the backend without SPA<sup class="footnote-ref"><a href="#footnote6">[6]</a><a id="footnote-ref6" class="footnote-anchor"></a></sup> Visit any link.</p> <p>VuePress is essentially a SPA. This means that you only need to cache the home page and enter from the home page to access all pages normally. Therefore, not caching other HTML by default can effectively reduce the cache size (40% smaller in size) and speed up the SW update speed.</p> <p>But this also has the disadvantage. If the user enters the site directly from a non-home page, the HTML file for the first page still needs to be loaded from the internet. Also, in offline environment, users can only enter through the homepage and then navigate to the corresponding page by themselves. If they directly access a link, an inaccessible prompt will appear.</p></div> <h3 id="size-control"><a href="#size-control" class="header-anchor">#</a> Size Control</h3> <p>To prevent large files from being included in the pre-cache list, any files larger than 2MB or pictures larger than 1MB will be deleted.</p> <p>You can customize the maximum file size of the cache (unit: KB) with the <code>maxSize</code> option, or change the size limit of the picture (unit: KB) with <code>maxPicSize</code>.</p> <h2 id="update-control"><a href="#update-control" class="header-anchor">#</a> Update Control</h2> <p>We provide the <code>update</code> option to control how users receive updates.</p> <p>The default value of the <code>update</code> option is <code>&quot;available&quot;</code>, which means that when new content available, the new SW will be installed silently in the background, and a pop-up window will prompt the user that the new content is ready after SW finish installing. Users can choose whether to refresh immediately to view new content.</p> <p>Under the default behavior, users will still read old content before the SW is ready and they will not be prompted. If your project is still in building stage and you want to alert the user that he may be reading outdated content, you can set this to <code>&quot;hint&quot;</code>. This allows users to be notified that new content has been published within seconds after visiting docs. But the negative effect of this is that if the user chooses to update before the new SW is ready, he will need to get all the resources of the page from the internet before the new SW installs and controls the page.</p> <p>If your docs are stable, or you’re hosting a blog and don’t care much about users receiving the latest version right away, you can set this to <code>&quot;disabled&quot;</code>, which means that the new SW will be installed completely silently in the background and start waiting, when the pages controlled by the old version SW are all closed, the new SW will start to take control and provide users with new content the next time users visit. This setting can prevent users from being disturbed by the pop-up window in the bottom right corner during the visit.</p> <p>To speed up user access under weak or no network conditions through SW, but also want users to always access new content, you can set this option to <code>&quot;force&quot;</code>. The behavior of this option is to unregister old SW as soon as a new SW is detected and refresh the page to ensure the user is browsing the latest content. But we strongly recommend not using this option unless necessary, as after a new SW is released, all users will experience unexpected sudden refresh within seconds after entering the site, and they will have to access the document over the internet and install the whole latest SW.</p> <h3 id="update-prompt-popup"><a href="#update-prompt-popup" class="header-anchor">#</a> Update Prompt Popup</h3> <p>When new content is detected (new SW detected), an update prompt popup will appear in the bottom right corner and allow the user to refresh and apply.</p> <div class="custom-block tip"><p class="custom-block-title">custom popup</p> <p>If you are not satisfied with the default popup, you can write your own component. You need to register your own popup component globally and pass the name of the component to the <code>hintComponent</code> option.</p></div> <h3 id="update-ready-popup"><a href="#update-ready-popup" class="header-anchor">#</a> Update Ready Popup</h3> <p>When the new content is ready (the new SW installed successfully and started waiting), the update ready popup will appear in the bottom right corner and allow the user to refresh and apply.</p> <div class="custom-block tip"><p class="custom-block-title">custom popup</p> <p>If you are not satisfied with the default popup, you can write your own component. You need to register your popup component globally and pass the name of the component to the <code>updateComponent</code> option.</p></div> <h2 id="manifest-generation"><a href="#manifest-generation" class="header-anchor">#</a> Manifest Generation</h2> <p>To ensure the installability of PWA, the site needs to generate a manifest file and declare a valid manifest file address <sup class="footnote-ref"><a href="#footnote7">[7]</a><a id="footnote-ref7" class="footnote-anchor"></a></sup> through <code>&lt;link&gt;</code>.</p> <p>The plugin will automatically generate the Manifest file <code>manifest.webmanifest</code> for you in the output directory, and will also add the manifest address statement to each HTML <code>&lt;head&gt;</code>.</p> <p>If you already have a <code>manifest.webmanifest</code> or <code>manifest.json</code> in <code>.vuepress/public</code>, the plugin will read and merge it into the final manifest.</p> <h3 id="automatic-generation"><a href="#automatic-generation" class="header-anchor">#</a> Automatic Generation</h3> <p>The plugin will use the information from the VuePress plugin API and set the fallback for fields in manifest as much as possible. So you don’t need to set most of the manifest fields.</p> <p>If the following fields are not set, they will try to fallback to the following preset values in order.</p> <table><thead><tr><th>Options</th> <th>Default value</th></tr></thead> <tbody><tr><td>name</td> <td><code>siteConfig.title</code> || <code>siteConfig.locales['/'].title</code> || <code>&quot;Site&quot;</code></td></tr> <tr><td>short_name</td> <td><code>siteConfig.title</code> || <code>siteConfig.locales['/'].title</code> || <code>&quot;Site&quot;</code></td></tr> <tr><td>description</td> <td><code>siteConfig.description</code> || <code>siteConfig.locales['/'].description</code> || <code>&quot;A site built with vuepress&quot;</code></td></tr> <tr><td>lang</td> <td><code>siteConfig.locales['/'].lang</code> || <code>&quot;en-US&quot;</code></td></tr> <tr><td>start_url</td> <td><code>siteConfig.base</code></td></tr> <tr><td>scope</td> <td><code>siteConfig.base</code></td></tr> <tr><td>display</td> <td><code>&quot;standalone&quot;</code></td></tr> <tr><td>theme_color</td> <td><code>&quot;#46bd87&quot;</code></td></tr> <tr><td>background_color</td> <td><code>&quot;#ffffff&quot;</code></td></tr> <tr><td>orientation</td> <td><code>&quot;portrait-primary&quot;</code></td></tr> <tr><td>prefer_related_applications</td> <td><code>false</code></td></tr></tbody></table> <p>For complete configuration items, please see <a href="https://github.com/vuepress-theme-hope/vuepress-theme-hope-v1/blob/main/packages/pwa2/src/shared/manifest.d.ts" target="_blank" rel="noopener noreferrer">Manifest Type Definition File<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h3 id="manual-config"><a href="#manual-config" class="header-anchor">#</a> Manual Config</h3> <p>You can manually specify the contents of the manifest in the <code>manifest</code> option.</p> <div class="custom-block tip"><p class="custom-block-title">Priority</p> <p><code>manifest</code> option has the highest priority, followed by manifest files that may exist in the <code>public</code> directory.</p></div> <p><strong>You should at least set a valid icon through <code>manifest.icons</code> or other icon related options in the PWA plugin.</strong></p> <div class="custom-block warning"><p class="custom-block-title">Note</p> <p>The installability <sup class="footnote-ref"><a href="#footnote3">[3:1]</a><a id="footnote-ref3:1" class="footnote-anchor"></a></sup> specification requires at least one valid icon to be declared in the manifest.</p> <p>So if you do not configure <code>manifest.icons</code>, visitors can only enjoy the offline accessibility brought by the Service Worker cache, while cannot install your site as a PWA.</p> <p>Besides the plugin does not process anything in the manifest by default, but outputs them as-is. This means that if you plan to deploy to a subdirectory, you should append the URL prefix to manifest Urls yourself.</p> <p>If everything you need is all under <code>base</code> directory, you can set <code>appendBase: true</code> in plugin options to let the plugin append <code>base</code> to any links in manifest.</p></div> <h2 id="other-options"><a href="#other-options" class="header-anchor">#</a> Other Options</h2> <p>The plugin also provides other PWA-related options, such as Microsoft tile icon and color settings, Apple icon and so on.</p> <p>You can set them as needed. For detailed options, please see <a href="/v1/pwa/config.html">Configuration Page</a>.</p> <h2 id="further-reading"><a href="#further-reading" class="header-anchor">#</a> Further Reading</h2> <p>For more details, please see:</p> <ul><li><a href="https://web.dev/progressive-web-apps/" target="_blank" rel="noopener noreferrer">Google PWA<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://developer.mozilla.org/en-US/docs/Web/Progressive_web_apps" target="_blank" rel="noopener noreferrer">MDN PWA<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://w3c.github.io/manifest/" target="_blank" rel="noopener noreferrer">W3C Manifest Specification<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <hr class="footnotes-sep"> <section class="footnotes"><ol class="footnotes-list"><li id="footnote1" class="footnote-item"><p><strong>PWA introduction</strong></p> <p>PWA, full name Progressive Web app. PWA standard is stipulated by W3C.</p> <p>It allows sites to install the site as an App on supported platform through a browser that supports this feature. <a href="#footnote-ref1" class="footnote-backref">↩︎</a></p></li> <li id="footnote2" class="footnote-item"><p><strong>Service Worker Introduction</strong></p> <ol><li><p>The Service Worker will get and cache all the files registered in it during the registration process.</p></li> <li><p>After the registration complete, the Service Worker is activated, and starts to proxy and control all your requests.</p></li> <li><p>Whenever you want to initiate an access request through the browser, the Service Worker will check whether it exists in its own cache list, if it exists, it will directly return the cached result, otherwise it will call its own fetch method to get it. You can use a custom fetch method to fully control the result of the request for resources in the web page, such as providing a fallback web page when offline.</p></li> <li><p>Every time the user reopens the site, the Service Worker will request to the link when it was registered. If a new version of Service Worker is detected, it will update itself and start caching the list of resources registered in the new Service Worker . After the content update is successfully obtained, the Service Worker will trigger the <code>update</code> event. The user can be notified through this event, for example, a pop-up window will be displayed in the lower right corner, prompting the user that new content is available and allowing the user to trigger an update.</p></li></ol> <a href="#footnote-ref2" class="footnote-backref">↩︎</a></li> <li id="footnote3" class="footnote-item"><p><strong>Installable</strong></p> <p>To let the site be registered as a PWA, the site needs to successfully register a valid service worker by itself, and at the same time add a valid manifest file and declare it.</p> <p>Each platform or browser has requirements for the size of the Service Worker cache. When the file size of the Service Worker cache is too large, the site will be marked as not installable. For Safari, the threshold is 50 MB, a few browsers will set less or more values (30MB, 70MB, 80MB), and Chrome will mark the threshold at 100 MB.</p> <p>The manifest file should contain at least <code>name</code> (or <code>short_name</code>) <code>icons</code> <code>start_url</code></p> <div class="custom-block note"><p class="custom-block-title">Note</p> <p>Starting from Chrome 93, Service Worker must contain effective fetch events to control offline requests.</p> <p>However, currently the plugin does not contain relevant processing logic by default, so on Android devices with Chrome 93 or later, the site will not pop up an installation prompt.</p></div> <a href="#footnote-ref3" class="footnote-backref">↩︎</a> <a href="#footnote-ref3:1" class="footnote-backref">↩︎</a></li> <li id="footnote4" class="footnote-item"><p><strong>SSR</strong>: <strong>S</strong>erver <strong>S</strong>ide <strong>R</strong>endering, <a href="#footnote-ref4" class="footnote-backref">↩︎</a></p></li> <li id="footnote5" class="footnote-item"><p><strong>SEO</strong>: <strong>S</strong>earch <strong>E</strong>ngine <strong>O</strong>ptimization. <a href="#footnote-ref5" class="footnote-backref">↩︎</a></p></li> <li id="footnote6" class="footnote-item"><p><strong>SPA</strong>: <strong>S</strong>ingle <strong>P</strong>age <strong>A</strong>pplication, most of them only have the homepage, and use history mode to handle routing instead of actually navigating between pages. <a href="#footnote-ref6" class="footnote-backref">↩︎</a></p></li> <li id="footnote7" class="footnote-item"><p><strong>Manifest File</strong></p> <p>The manifest file uses the JSON format and is responsible for declaring various information of the PWA, such as name, description, icon, and shortcut actions.</p> <p>In order for your site to be registered as a PWA, you need to meet the basic specifications of the manifest to make the browser consider the site as an installable PWA and allow users to install it.</p> <div class="custom-block info"><p class="custom-block-title">Info</p> <p>For Manifest standards and specifications, please see <a href="https://w3c.github.io/manifest/" target="_blank" rel="noopener noreferrer">W3C Manifest<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <a href="#footnote-ref7" class="footnote-backref">↩︎</a></li></ol></section></div> <!----> <div class="content__content-bottom"></div> <footer class="page-meta"><div class="meta-item edit-link"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon edit-icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z" fill="currentColor"></path> <path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z" fill="currentColor"></path></svg> <a href="https://github.com/vuepress-theme-hope/vuepress-theme-hopeeme-hope/edit/main/docs/pwa/src/guide.md" target="_blank" rel="noopener noreferrer">Edit this page</a></div> <div class="meta-item update-time"><span class="label">Last update:</span> <span class="info">June 2, 2022 17:21</span></div> <div class="meta-item contributors"><span class="label">Contributors: </span> <span class="info"><span title="email: zhangbowang1998@gmail.com" class="contributor">
          Mr.Hope
        </span>
        , 
      <span title="email: mister-hope@outlook.com" class="contributor">
          Mr.Hope
        </span>
        
      </span></div></footer> <!----> <div class="waline-wrapper" style="display:block;"><div id="waline-comment"></div></div> <!----> <div class="content__page-bottom"></div></main> <!----></div><div class="global-ui"><!----><div id="pwa-install"><!----> <div id="install-modal-wrapper" style="display:none;"><div class="background"></div> <div class="install-modal"><div class="header"><button aria-label="Close" class="close-button"><svg width="23" height="22" xmlns="http://www.w3.org/2000/svg" class="icon close-icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.12.358a1.224 1.224 0 011.729 0l8.92 8.914L20.686.358a1.224 1.224 0 011.73 1.728L13.497 11l8.92 8.913a1.222 1.222 0 11-1.73 1.729l-8.919-8.913-8.92 8.913a1.224 1.224 0 01-1.729-1.729L10.04 11l-8.92-8.914a1.222 1.222 0 010-1.728z" fill="currentColor"></path></svg></button> <div class="logo"><!----> <div class="title"><h1></h1> <p class="desc">This app can be installed on your PC or mobile device.  This will allow this web app to look and behave like any other installed app.  You will find it in your app lists and be able to pin it to your home screen, start menus or task bars.  This installed web app will also be able to safely interact with other apps and your operating system. </p></div></div></div> <div class="content"><div class="highlight"><!----> <!----></div> <div class="description"><h3>Description</h3> <p></p></div></div> <div class="button-wrapper"><button class="install-button">
        Install <span></span></button> <button class="cancel-button">
        Cancel
      </button></div></div></div></div><!----><div tabindex="-1" role="dialog" aria-hidden="true" class="pswp"><div class="pswp__bg"></div> <div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div> <div class="pswp__item"></div> <div class="pswp__item"></div></div> <div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div> <button title="Close" aria-label="Close" class="pswp__button pswp__button--close"></button> <button title="Share" aria-label="Share" class="pswp__button pswp__button--share"></button> <button title="Switch to full screen" aria-label="Switch to full screen" class="pswp__button pswp__button--fs"></button> <button title="Zoom in/out" aria-label="Zoom in/out" class="pswp__button pswp__button--zoom"></button> <div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div> <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div> <button title="Prev (Arrow Left)" aria-label="Prev (Arrow Left)" class="pswp__button pswp__button--arrow--left"></button> <button title="Next (Arrow Right)" aria-label="Next (Arrow Right)" class="pswp__button pswp__button--arrow--right"></button> <div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div><!----></div></div>
    <script src="/v1/pwa/assets/js/app.606b6282.js" defer></script><script src="/v1/pwa/assets/js/layout-Layout.991c339f.js" defer></script><script src="/v1/pwa/assets/js/layout-Blog~layout-Layout~layout-NotFound.3e960eae.js" defer></script><script src="/v1/pwa/assets/js/page-Guide.9beaf257.js" defer></script><script src="/v1/pwa/assets/js/17.82b3e559.js" defer></script>
  </body>
</html>
